<!-- ---------------------------ここからトップビジュアルフェードインのための記述------------------------------- -->
<head>
<script>
jQuery(function(){
	// 設定
	var $width =640; // 横幅
	var $height =300; // 高さ
	var $interval = 3000; // 切り替わりの間隔（ミリ秒）
	var $fade_speed = 1000; // フェード処理の早さ（ミリ秒）
	$("#slide ul li").css({"position":"relative","overflow":"hidden","width":$width,"height":$height});
	$("#slide ul li").hide().css({"position":"absolute","top":0,"left":0});
	$("#slide ul li:first").addClass("active").show();
	setInterval(function(){
	var $active = $("#slide ul li.active");
	var $next = $active.next("li").length?$active.next("li"):$("#slide ul li:first");
	$active.fadeOut($fade_speed).removeClass("active");
	$next.fadeIn($fade_speed).addClass("active");
	},$interval);
	});
</script>
<div id="slide">
<ul>
<li><a href=""><img src="assets/image1.jpg" alt="" width="640" height="300" /></a></li>
<li><a href=""><img src="assets/image2.jpg" alt="" width="640" height="300" /></a></li>
<li><a href=""><img src="assets/image3.jpg" alt="" width="640" height="300" /></a></li>
</ul>
</div>
<!-- ---------------------------ここまでトップビジュアルフェードインのための記述------------------------------- -->
<!-- ---------------------------ここから画像拡大ための記述（実験中）------------------------------- -->
<script src="assets/fancybox.js"></script>
<script>
$(document).ready(function() {
  $("a.fancybox").fancybox();
});
</script>
</head>

<div class="gallery"><a class="fancybox" href="assets/image3.jpg" target="_blank"><img src="assets/image3.jpg"></a></div>
<!-- ---------------------------ここまで画像拡大ための記述------------------------------- -->

<!-- 新着アイテム-->

<!-- 新着アイテム全体の箱 -->
<div class="product_index_content">

	<h1 class="product_index_content_headtitle">新着アイテム</h1>
        <% @products.first(3).each do |product| %>
		<%=link_to product_path(product.id) do %>
	        	<!-- 画像と商品名と値段の箱 -->
	        	<div class="product_index_middle_box">

        	<!-- 画像と商品名と値段の箱 -->
        	<div class="product_index_middle_box">

        		<%= attachment_image_tag product, :image ,:size => "300x300", fallback: "no_image.jpg", class:"product_index_middle_box1" %>
				<!-- :fill, 300, 300でなく　sizeで表記したらうまくいきました。。 -->
				<!-- 商品名と値段の箱 -->
				<div class="product_index_middle_box2">

					<!-- 商品名と値段の箱 -->
					<div class="product_index_middle_box2">

						<h2 class="product_index_small_box_album">
							<%= truncate(product.artist, length: 8 ) %> /
							<%= truncate(product.album, length: 8 ) %>
						</h2>

						<% if product.new_price == nil %>
							<h2>￥ <%= product.price %>
							</h2>
						<% else %>
							<span class="product_index_small_box_line">
							<h2 class="product_index_small_box_old_price">￥ <%= product.price %></h2>
							</span>
							<h2 class="product_index_small_box_new_price">￥ <%= product.new_price %></h2>
						<% end %>
				</div>
				<!-- 商品名と値段の箱fin -->
			</div>
			<!-- 画像と商品名と値段の箱fin -->
        <% end %>
		<% end %>
</div>
<!-- 新着アイテム全体の箱fin -->


<!-- j-popアイテム全体の箱 -->
<div class="product_index_content_2">
	<h1 class="product_index_content_headtitle">J-POP</h1>

        <% @jpops.first(4).each do |jpop| %>
 
		<%=link_to  product_path(jpop.id) do %>
 master

        	<!-- 画像と商品名と値段の箱 -->
        	<div class="product_index_middle_box_2">

				<%= attachment_image_tag jpop, :image, :size => "300x300", fallback: "no_image.jpg", class:"product_index_middle_box1" %>

				<!-- 商品名と値段の箱 -->
				<div class="product_index_middle_box2">

					<h2 class="product_index_small_box_album">
							<%= truncate(jpop.artist, length: 8 ) %> /
							<%= truncate(jpop.album, length: 8 ) %>
					</h2>

					<% if jpop.new_price == nil %>
						<h2>￥ <%= jpop.price %>
						</h2>
					<% else %>
						<span class="product_index_small_box_line">
						<h2 class="product_index_small_box_old_price">￥ <%= jpop.price %></h2>
						</span>
						<h2 class="product_index_small_box_new_price">￥ <%= jpop.new_price %></h2>
					<% end %>

				</div>
				<!-- 商品名と値段の箱fin -->

			</div>
			<!-- 画像と商品名と値段の箱fin -->

        <% end %>
		<% end %>
</div>
<!-- j-popアイテム全体の箱fin -->



<!-- 洋楽アイテム全体の箱 -->
<div class="product_index_content_2">
	<h1 class="product_index_content_headtitle">洋楽</h1>

        <% @worlds.first(4).each do |world| %>
      
		<%=link_to  product_path(world.id) do %>

        	<!-- 画像と商品名と値段の箱 -->
        	<div class="product_index_middle_box_2">

				<%= attachment_image_tag world, :image, :size => "300x300", fallback: "no_image.jpg", class:"product_index_middle_box1" %>

				<!-- 商品名と値段の箱 -->
				<div class="product_index_middle_box2">

					<h2 class="product_index_small_box_album">
							<%= truncate(world.artist, length: 8 ) %> /
							<%= truncate(world.album, length: 8 ) %>

					</h2>

					<% if world.new_price == nil %>
						<h2>￥ <%= world.price %>
						</h2>
					<% else %>
						<span class="product_index_small_box_line">
						<h2 class="product_index_small_box_old_price">￥ <%= world.price %></h2>
						</span>
						<h2 class="product_index_small_box_new_price">￥ <%= world.new_price %></h2>
					<% end %>

				</div>
				<!-- 商品名と値段の箱fin -->

			</div>
			<!-- 画像と商品名と値段の箱fin -->

        <% end %>
		<% end %>
</div>
<!-- 洋楽アイテム全体の箱fin -->


<!-- K-POPアイテム全体の箱 -->
<div class="product_index_content_3">
	<h1 class="product_index_content_headtitle">K-POP</h1>

        <% @kpops.first(4).each do |kpop| %>    
		<%=link_to  product_path(kpop.id) do %>


        	<!-- 画像と商品名と値段の箱 -->
        	<div class="product_index_middle_box_2">



				<%= attachment_image_tag kpop, :image, :size => "300x300", fallback: "no_image.jpg", class:"product_index_middle_box1" %>

				<!-- 商品名と値段の箱 -->
				<div class="product_index_middle_box2">

					<h2 class="product_index_small_box_album">

							<%= truncate(kpop.artist, length: 8 ) %> /
							<%= truncate(kpop.album, length: 8 ) %>

					</h2>

					<% if kpop.new_price == nil %>
						<h2>￥ <%= kpop.price %>
						</h2>
					<% else %>
						<span class="product_index_small_box_line">
						<h2 class="product_index_small_box_old_price">￥ <%= kpop.price %></h2>
						</span>
						<h2 class="product_index_small_box_new_price">￥ <%= kpop.new_price %></h2>
					<% end %>

				</div>
				<!-- 商品名と値段の箱fin -->

			</div>
			<!-- 画像と商品名と値段の箱fin -->

        <% end %>
		<% end %>
</div>
<!-- K-POPアイテム全体の箱fin -->



 <%= link_to image_tag('2605.png',:id => "funcBtn"), new_product_path %>

<style type="text/css">

/*---- 機能ボタン ----*/

#funcBtn{
position: fixed; bottom: 10px; right: 10px;
display: block;
width: 200px;
height: 200px;

/*画像リンクのため不要*/
/*line-height: 60px;
border-radius: 50% 50%;
background: red;
color: white;
font-size: 20px;
font-weight: bold;
text-align: center;
white-space: nowrap;*/

/*最悪　記入不要　WebKitがクロームに対応するものらしいが動く*/
/*-webkit-transition:
opacity 0.2s ease-out 0s,
bottom 0.2s ease-out 0s,
right 0.2s ease-out 0s,
-webkit-transform 0.2s ease-out 0s;*/

/*firefox対応しないため不要*/
/*-moz-transition:
opacity 0.2s ease-out 0s,
bottom 0.2s ease-out 0s,
right 0.2s ease-out 0s,
-moz-transform 0.2s ease-out 0s;*/
transition:
opacity 0.2s ease-out 0s,
/*opacity 透明度を調整するもの ease-outは高速で動き出し、最後に減速します*/
bottom 0.2s ease-out 0s,
/*下に下がる速さ*/
right 0.2s ease-out 0s,
/*右に動く速さ*/
transform 0.2s ease-out 0s;
/*これがないとゆっくり動かない*/
}
#funcBtn.scroll{
	/*スクロールした時にこのCSSが効く*/
opacity: 0;
bottom: -50px;
right: 0px;
/*移動方向*/
/*-webkit-transform: rotate( 45deg );
-moz-transform: rotate( 45deg );*/
/*上に習い不要説ある*/
transform: rotate( 45deg );
}


</style>

<!---- スクリプト ---->
<script type="text/javascript">

/*---- グローバル変数 ----*/

var tmr_funcBtn = null;

// これがないと消えたまんまになる

/*---- スクロール時に実行 ----*/

window.onscroll = function(){
var funcBtn = document.getElementById("funcBtn");
funcBtn.className = "scroll";
clearTimeout( tmr_funcBtn );
tmr_funcBtn = setTimeout( function(){ funcBtn.className = "" }, 500 );
}


</script>

</head>

<body>

<!-- https://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q13157245918 これの丸パクリです-->
